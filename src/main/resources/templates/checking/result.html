<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

<div id="main">
<label>test</label>
<div id="pnlTest" style="display:none">
<p>
    Lorem Ipsum - это текст-"рыба", часто используемый в печати и вэб-дизайне. Lorem Ipsum является стандартной "рыбой" для текстов на латинице с начала XVI века. В то время некий безымянный печатник создал большую коллекцию размеров и форм шрифтов, используя Lorem Ipsum для распечатки образцов. Lorem Ipsum не только успешно пережил без заметных изменений пять веков, но и перешагнул в электронный дизайн. Его популяризации в новое время послужили публикация листов Letraset с образцами Lorem Ipsum в 60-х годах и, в более недавнее время, программы электронной вёрстки типа Aldus PageMaker, в шаблонах которых используется Lorem Ipsum.
</p>
</div>
</div>

<script >
    var main =document.getElementById("main");
    var p=document.createElement('p');
    p.appendChild(document.createTextNode("hello"));
    main.appendChild(p);
    for (i=0;i<5;i++){
        create(i+"текст", main, i);
        check("ch"+i, "div"+i);
    }

    function create(text, main, i){
        var ch=document.createElement('input');
        ch.type="checkbox";
        ch.id='ch'+i;
        main.appendChild(ch);
        var div = document.createElement('div');
        div.id='div'+i;
        div.style.display='block';
        var p=document.createElement('p');
        p.appendChild(document.createTextNode(text));
        div.appendChild(p);
        main.appendChild(div);

    }

    function check(chid,divid){
        $('#'+divid).hide();
        $('#'+chid).click(function () {
            if ($(this).is(':checked')){
                $('#'+divid).show();
            }
            else {
                $('#'+divid).hide();
            }
        });
    }




</script>

</body>
</html>